<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout" layout:decorate="layout/default_layout">
<th:block layout:fragment="content">
  <div style="height:75px"></div>
  <div class="container">
    <div><h3 class="fw-bold">신작 영화</h3></div>
    <hr style="width:855px;">
    <div class="row"> <!-- 첫행 시작 -->
      <div class="col-8">
        <!-- 캐러셀 시작 -->
        <div id="carouselExampleCaptions" class="carousel slide">
          <div class="carousel-indicators">
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active"
              aria-current="true" aria-label="Slide 1"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1"
              aria-label="Slide 2"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2"
              aria-label="Slide 3"></button>
            <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3"
              aria-label="Slide 4"></button>
          </div>
          <div class="carousel-inner">
            <div class="carousel-item active">
              <img th:src="@{/images/{photo}(photo=${newmovie1.photoname})}" class="d-block w-100 rounded" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h2><th:block th:text="${newmovie1.title}"></th:block></h2>
                <p>
					<th:block th:each="item, iterStat : ${newmovieCountrys1}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:each="item, iterStat : ${newmovieGenres1}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:text="${newmovie1.rating}"></th:block>
				</p>
              </div>
            </div>
            <div class="carousel-item">
              <img th:src="@{/images/{photo}(photo=${newmovie2.photoname})}" class="d-block w-100 rounded" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h2><th:block th:text="${newmovie2.title}"></th:block></h2>
                <p>
					<th:block th:each="item, iterStat : ${newmovieCountrys2}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:each="item, iterStat : ${newmovieGenres2}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:text="${newmovie2.rating}"></th:block>
				</p>
              </div>
            </div>
            <div class="carousel-item">
              <img th:src="@{/images/{photo}(photo=${newmovie3.photoname})}" class="d-block w-100 rounded" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h2><th:block th:text="${newmovie3.title}"></th:block></h2>
                <p>
					<th:block th:each="item, iterStat : ${newmovieCountrys3}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:each="item, iterStat : ${newmovieGenres3}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:text="${newmovie3.rating}"></th:block>
				</p>
              </div>
            </div>
            <div class="carousel-item">
              <img th:src="@{/images/{photo}(photo=${newmovie4.photoname})}" class="d-block w-100 rounded" alt="...">
              <div class="carousel-caption d-none d-md-block">
                <h2><th:block th:text="${newmovie4.title}"></th:block></h2>
                <p>
					<th:block th:each="item, iterStat : ${newmovieCountrys4}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:each="item, iterStat : ${newmovieGenres4}">
					    <th:block th:text="${item + (iterStat.last ? '' : ',')}"></th:block>
					</th:block>│
					<th:block th:text="${newmovie4.rating}"></th:block>
				</p>
              </div>
            </div>
          </div>
          <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="prev">
            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Previous</span>
          </button>
          <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions"
            data-bs-slide="next">
            <span class="carousel-control-next-icon" aria-hidden="true"></span>
            <span class="visually-hidden">Next</span>
          </button>
        </div>
        <!-- 캐러셀 끝 -->
      </div>
      <div class="col-4">
        <div style="height: 20px;"></div>
        <div class="card mb-3"> <!-- 카드 시작 -->
          <div class="row g-0">
            <div class="col-md-4">
              <img src="/images/lounge.png" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">골든티켓 라운지</h5>
                <p class="card-text">사람들과 영화에 대해 이야기하고 리뷰를 쓰거나 볼 수 있어요</p>
              </div>
            </div>
          </div>
        </div> <!-- 카드 끝 -->
        <div style="height: 10px;"></div>
        <div class="card mb-3" style="max-width: 540px;"> <!-- 카드 시작 -->
          <div class="row g-0">
            <div class="col-md-4">
              <img src="/images/rank.png" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">골든티켓 랭킹</h5>
                <p class="card-text">장르 별로 영화 순위를 볼 수 있어요</p>
              </div>
            </div>
          </div>
        </div> <!-- 카드 끝 -->
        <div style="height: 10px;"></div>
        <div class="card mb-3" style="max-width: 540px;"> <!-- 카드 시작 -->
          <div class="row g-0">
            <div class="col-md-4">
              <img src="/images/info.png" class="img-fluid rounded-start" alt="...">
            </div>
            <div class="col-md-8">
              <div class="card-body">
                <h5 class="card-title">영화 정보</h5>
                <p class="card-text">원하는 영화의 코멘트 리뷰, 평점, 배우, 감독, 어디서 볼 수 있는지 등의 정보를 확인할 수 있어요</p>
              </div>
            </div>
          </div>
        </div> <!-- 카드 끝 -->
      </div> <!-- 첫행 끝 -->
    </div>
    <div style="height: 50px;"></div>
    <div>
      <h3 class="fw-bold">오늘의 추천 영화</h3>
    </div>
    <hr>
    <div class="row row-cols-1 row-cols-md-5 g-4">
		<div class="col" th:each="item : ${todaymovies}">
			<a th:href="@{/movie/{id}(id=${item.id})}">
            	<div class="card">
	              <img th:src="@{/images/{poster}(poster=${item.poster})}" class="card-img-top" alt="...">
	              <div class="card-body">
	                <b class="card-title" th:text="${item.title}"></b>
	                <p class="card-text"><img src="/images/star2.png" style="height:13px">&nbsp;<th:block th:text="${item.rating}"></th:block></p>
	              </div>
            	</div>
            </a>
          </div>
    </div> <!-- 두번째 행 끝 -->
    <div style="height: 50px;"></div>
    <div class="row">
      <div class="col-9">
        <div>
          <h4 class="fw-bold" th:text="${#strings.isEmpty(session['id']) ? '골든티켓 회원들이 사랑하는 영화' : '회원님을 위한 맞춤 영화'}"></h4>
        </div>
        <hr>
        <div class="row row-cols-1 row-cols-md-5 g-4">
          <div class="col" th:each="item : ${lovedmovies}">
			<a th:href="@{/movie/{id}(id=${item.id})}">
            	<div class="card">
	              <img th:src="@{/images/{poster}(poster=${item.poster})}" class="card-img-top" alt="...">
	              <div class="card-body">
	                <b class="card-title" th:text="${item.title}"></b>
	                <p class="card-text"><img src="/images/star2.png" style="height:13px">&nbsp;<th:block th:text="${item.rating}"></th:block></p>
	              </div>
            	</div>
            </a>
          </div>
        </div>
        <div style="height:50px;"></div>
        <div><b class="fs-4">영화 장르별로 보기</b></div>
        <hr>
        <div>
          <button type="button" class="btn btn-light fw-bold">액션</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">공포/스릴러</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">코미디</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">SF/판타지</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">드라마</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">멜로</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">애니메이션</button>&nbsp;&nbsp;
          <button type="button" class="btn btn-light fw-bold">다큐멘터리</button>
        </div>
      </div>
      <div class="col-3">
        <div>
          <h4 class="fw-bold"><!--2023--> 영화 순위</h4>
        </div>
        <hr>
        <ul class="list-group" th:each="item : ${topmovies}">
          <li class="list-group-item"><a th:href="@{/movie/{id}(id=${item.id})}"><img th:src="@{/images/{poster}(poster=${item.poster})}" style="height:65px"
              alt="...">&nbsp;&nbsp;<b th:text="${item.ranking}"></b>&nbsp;&nbsp;<th:block th:text="${item.title}"></th:block></a></li>
        </ul>
      </div>
    </div>
  </div>
    <div style="height:150px;"></div>
</th:block>
</html>
